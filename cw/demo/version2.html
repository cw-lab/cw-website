<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>文章頁 Demo 2</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<style>
		body {
			min-width: 1440px;
		}
		img {
			display: block;
		}
		header {
			position: fixed;
			top: 0;
			left: 50%;
			width: 1440px;
			height: 61px;
			background-color: #fff;
			transform: translateX(-50%);
			z-index: 5;
		}
		header img {
			position: absolute;
			top: 0;
			left: 0;
			transition: opacity 0.3s;
		}
		header img.scroll,
		header.scroll img.normal {
			opacity: 0;
		}
		header img.normal,
		header.scroll img.scroll {
			opacity: 1;
		}
		header img,
		main .bg > img {
			width: 1440px;
		}
		main {
			width: 1440px;
			padding-top: 62px;
			margin-left: auto;
			margin-right: auto;
		}
		main .bg {
			position: relative;
		}
		.sns {
			position: absolute;
			top: 0;
			left: 130px;
			z-index: 2;
		}
		.sns.leftfixed {
			position: fixed;
			top: 82px;
			left: calc( (100% - 1440px) / 2 + 130px );
		}
		.sns.leftbottomfixed {
			position: absolute;
			top: auto;
			bottom: -833px;
			left: 130px;
		}
		.lastest {
			position: absolute;
			top: -811px;
			right: 90px;
		}
		.lastest.rightfixed {
			position: fixed;
			top: auto;
			bottom: 20px;
			right: calc( (100% - 1440px) / 2 + 90px );
		}
		.lastest.rightbottomfixed {
			position: absolute;
			right: 90px;
		}
		.next {
			position: absolute;
			top: 0;
			right: 90px;
		}
		.next.rightfixed {
			position: fixed;
			top: 82px;
			right: calc( (100% - 1440px) / 2 + 90px );
		}
		.next.rightbottomfixed {
			position: absolute;
			top: auto;
			bottom: 0;
			right: 90px;
		}
	</style>
</head>
<body>
	<header>
		<img class="normal" src="https://yuhsuanwang531.github.io/cw/v2_header.png" alt="正常版header">
		<img class="scroll" src="https://yuhsuanwang531.github.io/cw/v2_headerscroll.png" alt="往上滑版header">
	</header>
	<main>
		<div class="bg bg1">
			<img src="https://yuhsuanwang531.github.io/cw/v2_bg1.png" alt="文章1">
		</div>
		<div class="bg bg2">
			<img src="https://yuhsuanwang531.github.io/cw/v2_bg2.png" width="1440" alt="">
			<div class="bg bg3">
				<img src="https://yuhsuanwang531.github.io/cw/v2_bg3.png" width="1440" alt="">
				<div class="lastest">
					<img src="https://yuhsuanwang531.github.io/cw/v2_article.png" width="330" alt="">
				</div>
				<div class="sns">
					<img src="https://yuhsuanwang531.github.io/cw/v2_share.png" width="73" alt="">
				</div>
			</div>
			<div class="bg bg4">
				<img src="https://yuhsuanwang531.github.io/cw/v2_bg4.png" width="1440" alt="">
				<div class="bg bg5">
					<img src="https://yuhsuanwang531.github.io/cw/v2_bg5.png" width="1440" alt="">
				</div>
				<div class="next">
					<img src="https://yuhsuanwang531.github.io/cw/v2_next.png" width="330" alt="">
				</div>
			</div>
		</div>
		<div class="bg bg6">
			<img src="https://yuhsuanwang531.github.io/cw/v2_bg6.png" width="1440" alt="">
		</div>
	</main>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script>
		$(document).ready(function(){
			var width = $(window).width(),
				height = $(window).height(),
				iScrollPos = 0;
			$(window).scroll(function() {
				// 往上滾動出現<header>
				var iCurScrollPos = $(this).scrollTop(),
					lastestHeight = $('.lastest').outerHeight(),
					bg2Top = $('main .bg2').offset().top,
					bg3Top = $('main .bg3').offset().top,
					bg4Top = $('main .bg4').offset().top,
					bg5Top = $('main .bg5').offset().top,
					bg6Top = $('main .bg6').offset().top,
					rightbottom = bg4Top - height;
				console.log(iCurScrollPos);
				if (iCurScrollPos >= 400) {
					$("header").addClass("scroll");
				} else {
					$("header").removeClass("scroll");
				}
				if ( (iCurScrollPos > (bg3Top - 62)) ) {
					$('.sns').addClass("leftfixed");
				} else {
					$('.sns').removeClass("leftfixed");
				}
				if ( (iCurScrollPos > (bg5Top - 82 - 35 - $('.sns').outerHeight())) ) {
					$('.sns').addClass("leftbottomfixed");
				} else {
					$('.sns').removeClass("leftbottomfixed");
				}
				if ( (iCurScrollPos > 543) ) {
					$('.lastest').addClass("rightfixed");
				} else {
					$('.lastest').removeClass("rightfixed");
				}
				if ( iCurScrollPos > rightbottom ) {
					$('.lastest').addClass("rightbottomfixed");
				} else {
					$('.lastest').removeClass("rightbottomfixed");
				}
				if ( iCurScrollPos > (bg4Top - 82) ) {
					$('.next').addClass("rightfixed");
				} else {
					$('.next').removeClass("rightfixed");
				}
				if ( iCurScrollPos > (bg6Top - 82 - $('.next').outerHeight()) ) {
					$('.next').addClass("rightbottomfixed");
				} else {
					$('.next').removeClass("rightbottomfixed");
				}
				// if ( (iCurScrollPos > bg2Top) && (iCurScrollPos < bg3Top) ) {
				// 	$(".sns").addClass("rightfixed");
				// } else {
				// 	$(".sns").removeClass("rightfixed");
				// }
				// if ( iCurScrollPos >= bg3Top ) {
				// 	$(".sns").addClass("bottomfixed");
				// } else {
				// 	$(".sns").removeClass("bottomfixed");
				// }
			});
		})
	</script>
</body>
</html>